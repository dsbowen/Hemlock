<!--
Page template
by Dillon Bowen
last modified 07/22/2019
-->

{% extends 'bootstrap/base.html' %}

<!--
center-fit centers an object and fits to screen
label.span sets the label with to span the div 
-->
{% block styles %}
{{ super() }}
<style>
    .left {
        display: block;
        margin-left: 0px;
        margin-right: auto;
    }
    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    .right {
        display: block;
        margin-left: auto;
        margin-right: 0px;
    }
    .fit {
        max-width: 100%;
        max-height: 100vh;
    }
    .span {
        width: 100%;
    }
    form {
        background-color: gray;
        width: inherit;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    div.question {
        padding: 0px 5px;
    }
    div.error {
        padding: 15px 5px;
        border-radius: 15px;
        background-color: lightgray;
    }
    p {
        font-weight: normal;
    }
</style>
{% endblock %}

<!--
Credit to rybo111 for a version of this script
https://stackoverflow.com/questions/5445431/jquery-disable-submit-button-on-form-submission
Prevents multiple form submissions
-->
{% block scripts %}
{{ super() }}
<script>
$('form.submit-once').submit(function(e){
  if( $(this).hasClass('form-submitted') ){
    e.preventDefault();
    return;
  }
  $(this).addClass('form-submitted');
  $("[name='direction']").html('Loading');
});
</script>
{% endblock %}

{% block content %}
<div class='container'>
<form method='post' class='submit-once' novalidate>
    {{ page }}
</form>
</div>
{% endblock %}